var I=Object.defineProperty;var w=(e,n,r)=>n in e?I(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var o=(e,n,r)=>(w(e,typeof n!="symbol"?n+"":n,r),r);const y=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))f(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const L of i.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&f(L)}).observe(document,{childList:!0,subtree:!0});function r(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerpolicy&&(i.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?i.credentials="include":c.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function f(c){if(c.ep)return;c.ep=!0;const i=r(c);fetch(c.href,i)}};y();const a=28,v=document.querySelector(".grid"),p=document.getElementById("score");let s=[],u=0;const d=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,3,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,4,4,4,4,4,4,4,4,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,2,2,1,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,4,4,4,4,4,4,0,0,0,4,1,2,2,2,2,2,2,1,4,0,0,0,4,4,4,4,4,4,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,3,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function x(){for(let e=0;e<d.length;e++){const n=document.createElement("div");v.appendChild(n),s.push(n),d[e]===0?s[e].classList.add("pac-dot"):d[e]===1?s[e].classList.add("wall"):d[e]===2?s[e].classList.add("ghost-lair"):d[e]===3&&s[e].classList.add("power-pellet")}}x();let t=490;s[t].classList.add("pacman");function h(e){switch(s[t].classList.remove("pacman"),e.code){case"ArrowDown":!s[t+a].classList.contains("ghost-lair")&&!s[t+a].classList.contains("wall")&&t+a<a*a&&(t+=a);break;case"ArrowUp":!s[t-a].classList.contains("ghost-lair")&&!s[t-a].classList.contains("wall")&&t-a>=0&&(t-=a);break;case"ArrowLeft":!s[t-1].classList.contains("ghost-lair")&&!s[t-1].classList.contains("wall")&&t%a!==0&&(t-=1),t===364&&(t=391);break;case"ArrowRight":!s[t+1].classList.contains("ghost-lair")&&!s[t+1].classList.contains("wall")&&t%a<a-1&&(t+=1),t===391&&(t=364);break}s[t].classList.add("pacman"),E(),N()}document.addEventListener("keyup",h);function E(){s[t].classList.contains("pac-dot")&&(s[t].classList.remove("pac-dot"),u++,p.innerHTML=u.toString())}class m{constructor(n,r,f){o(this,"className");o(this,"startIndex");o(this,"speed");o(this,"currentIndex");o(this,"isScared");o(this,"timerId");this.className=n,this.startIndex=r,this.speed=f,this.currentIndex=r,this.isScared=!1,this.timerId=NaN}}function N(){s[t].classList.contains("power-pellet")&&(s[t].classList.remove("power-pellet"),u+=10,l.forEach(e=>e.isScared=!0),setTimeout(g,1e4))}function g(){l.forEach(e=>e.isScared=!1)}const l=[new m("blinky",348,250),new m("pinky",376,400),new m("inky",351,300),new m("clyde",379,500)];l.forEach(e=>{s[e.currentIndex].classList.add(e.className),s[e.currentIndex].classList.add("ghost")});l.forEach(e=>k(e));function k(e){const n=[-1,1,-a,+a];let r=n[Math.floor(Math.random()*n.length)];console.log(r),e.timerId=setInterval(function(){!s[e.currentIndex+r].classList.contains("wall")&&!s[e.currentIndex+r].classList.contains("ghost")?(s[e.currentIndex].classList.remove(e.className),s[e.currentIndex].classList.remove("ghost","scared-ghost"),e.currentIndex+=r,s[e.currentIndex].classList.add(e.className),s[e.currentIndex].classList.add("ghost")):r=n[Math.floor(Math.random()*n.length)],e.isScared&&s[e.currentIndex].classList.add("scared-ghost"),e.isScared&&s[e.currentIndex].classList.contains("pacman")&&(s[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost"),e.currentIndex=e.startIndex,u+=100,s[e.currentIndex].classList.add(e.className,"ghost")),S(),b()},e.speed)}function S(){s[t].classList.contains("ghost")&&!s[t].classList.contains("scared-ghost")&&(l.forEach(e=>clearInterval(e.timerId)),document.removeEventListener("keyup",h),p.innerHTML="You LOSE")}function b(){u===274&&(l.forEach(e=>clearInterval(e.timerId)),document.removeEventListener("keyup",h),p.innerHTML="You WON")}
